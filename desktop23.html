<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informations personnelles</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f5f7fa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        
        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 24px;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeaea;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #495057;
        }
        .Button {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    background-color: #34dbb7;
    color: white;
    cursor: pointer;
    font-weight: bold;
}
        input[type="text"],
        input[type="date"],
        input[type="tel"],
        input[type="email"],
        textarea,
        select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus,
        select:focus,
        textarea:focus {
            border-color: #4CAF50;
            outline: none;
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }
        
        .date-inputs {
            display: flex;
            gap: 10px;
        }
        
        .date-inputs input {
            flex: 1;
            text-align: center;
        }
        
        .gender-options {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }
        
        .gender-option {
            display: flex;
            align-items: center;
        }
        
        .gender-option input {
            margin-right: 8px;
        }
        
        .btn-submit {
          background-color:#fff;
          background-image: linear-gradient(30deg, #0400ff, #4ce3f7);
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }
        
        .btn-submit:hover {
            background-color: #3e8e41;
        }
        
        .error {
            color: #e74c3c;
            font-size: 14px;
            margin-top: 5px;
        }
        .btn-conteiner {
  display: flex;
  justify-content: center;
  --color-text: #ffffff;
  --color-background: #648cc0;
  --color-outline: #ff145b80;
  --color-shadow: #00000080;
}

.btn-content {
  display: flex;
  align-items: center;
  padding: 5px 30px;
  text-decoration: none;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  font-size: 30px;
  color: var(--color-text);
  background: var(--color-background);
  transition: 1s;
  border-radius: 100px;
  box-shadow: 0 0 0.2em 0 var(--color-background);
}

.btn-content:hover, .btn-content:focus {
  transition: 0.5s;
  -webkit-animation: btn-content 1s;
  animation: btn-content 1s;
  outline: 0.1em solid transparent;
  outline-offset: 0.2em;
  box-shadow: 0 0 0.4em 0 var(--color-background);
}

.btn-content .icon-arrow {
  transition: 0.5s;
  margin-right: 0px;
  transform: scale(0.6);
}

.btn-content:hover .icon-arrow {
  transition: 0.5s;
  margin-right: 25px;
}

.icon-arrow {
  width: 20px;
  margin-left: 15px;
  position: relative;
  top: 6%;
}
  
/* SVG */
#arrow-icon-one {
  transition: 0.4s;
  transform: translateX(-60%);
}

#arrow-icon-two {
  transition: 0.5s;
  transform: translateX(-30%);
}

.btn-content:hover #arrow-icon-three {
  animation: color_anim 1s infinite 0.2s;
}

.btn-content:hover #arrow-icon-one {
  transform: translateX(0%);
  animation: color_anim 1s infinite 0.6s;
}

.btn-content:hover #arrow-icon-two {
  transform: translateX(0%);
  animation: color_anim 1s infinite 0.4s;
}

/* SVG animations */
@keyframes color_anim {
  0% {
    fill: white;
  }

  50% {
    fill: var(--color-background);
  }

  100% {
    fill: white;
  }
}

/* Button animations */
@-webkit-keyframes btn-content {
  0% {
    outline: 0.2em solid var(--color-background);
    outline-offset: 0;
  }
}

@keyframes btn-content {
  0% {
    outline: 0.2em solid var(--color-background);
    outline-offset: 0;
  }
}
.NEXT {
    background-color: #2ecc71;
    color: white;
}
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Step 1: Informations personnelles</h1>
        
        <form id="personalInfoForm" action="process.php" method="POST">
            <div class="form-group">
                <label for="fullname">Nom et Prénom :</label>
                <input type="text" id="fullname" name="fullname" required>
                <div id="fullnameError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label>Date de naissance :</label>
                <div class="date-inputs">
                    <input type="text" id="day" name="day" placeholder="JJ" maxlength="2" pattern="\d{2}" required>
                    <input type="text" id="month" name="month" placeholder="MM" maxlength="2" pattern="\d{2}" required>
                    <input type="text" id="year" name="year" placeholder="AAAA" maxlength="4" pattern="\d{4}" required>
                </div>
                <div id="dateError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="birthplace">Lieu de naissance :</label>
                <input type="text" id="birthplace" name="birthplace" required>
                <div id="birthplaceError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label>Genre :</label>
                <div class="gender-options">
                    <div class="gender-option">
                        <input type="radio" id="male" name="gender" value="male">
                        <label for="male">Homme</label>
                    </div>
                    <div class="gender-option">
                        <input type="radio" id="female" name="gender" value="female">
                        <label for="female">Femme</label>
                    </div>
                </div>
                <div id="genderError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="address">Adresse :</label>
                <textarea id="address" name="address" rows="3" required></textarea>
                <div id="addressError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="phone">Téléphone :</label>
                <input type="tel" id="phone" name="phone" pattern="[0-9]{8}" required>
                <div id="phoneError" class="error"></div>
            </div>
            
            <div class="form-group">
                <label for="email">Email :</label>
                <input type="email" id="email" name="email" required>
                <div id="emailError" class="error"></div>
            </div>
            
            <a href="mdps2.html"><button class="Button" type="button">NEXT</button></a>
        </form>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('personalInfoForm');
    const nextButton = document.querySelector('.Button');
    const inputs = {
        fullname: document.getElementById('fullname'),
        day: document.getElementById('day'),
        month: document.getElementById('month'),
        year: document.getElementById('year'),
        birthplace: document.getElementById('birthplace'),
        gender: document.querySelectorAll('input[name="gender"]'),
        address: document.getElementById('address'),
        phone: document.getElementById('phone'),
        email: document.getElementById('email')
    };
    
    const errors = {
        fullname: document.getElementById('fullnameError'),
        date: document.getElementById('dateError'),
        birthplace: document.getElementById('birthplaceError'),
        gender: document.getElementById('genderError'),
        address: document.getElementById('addressError'),
        phone: document.getElementById('phoneError'),
        email: document.getElementById('emailError')
    };
    
    // Écouteurs d'événements pour la validation en temps réel
    inputs.fullname.addEventListener('input', validateFullname);
    inputs.day.addEventListener('input', validateDate);
    inputs.month.addEventListener('input', validateDate);
    inputs.year.addEventListener('input', validateDate);
    inputs.birthplace.addEventListener('input', validateBirthplace);
    inputs.gender.forEach(radio => radio.addEventListener('change', validateGender));
    inputs.address.addEventListener('input', validateAddress);
    inputs.phone.addEventListener('input', validatePhone);
    inputs.email.addEventListener('input', validateEmail);
    
    // Gestion du bouton NEXT
    nextButton.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Valider tous les champs
        const isFullnameValid = validateFullname();
        const isDateValid = validateDate();
        const isBirthplaceValid = validateBirthplace();
        const isGenderValid = validateGender();
        const isAddressValid = validateAddress();
        const isPhoneValid = validatePhone();
        const isEmailValid = validateEmail();
        
        if (isFullnameValid && isDateValid && isBirthplaceValid && 
            isGenderValid && isAddressValid && isPhoneValid && isEmailValid) {
            // Stocker les données dans sessionStorage avant la redirection
            storeFormData();
            // Rediriger vers la page suivante
            window.location.href = 'mdps.html';
        } else {
            // Afficher un message d'erreur général
            alert('Veuillez corriger les erreurs dans le formulaire avant de continuer.');
        }
    });
    
    // Fonctions de validation
    function validateFullname() {
        if (inputs.fullname.value.trim().length < 3) {
            errors.fullname.textContent = 'Le nom complet doit contenir au moins 3 caractères';
            return false;
        } else {
            errors.fullname.textContent = '';
            return true;
        }
    }
    
    function validateDate() {
        const day = parseInt(inputs.day.value);
        const month = parseInt(inputs.month.value);
        const year = parseInt(inputs.year.value);
        
        // Vérification basique des formats
        if (!inputs.day.value.match(/^\d{2}$/) || day < 1 || day > 31) {
            errors.date.textContent = 'Jour invalide (doit être entre 01 et 31)';
            return false;
        }
        
        if (!inputs.month.value.match(/^\d{2}$/) || month < 1 || month > 12) {
            errors.date.textContent = 'Mois invalide (doit être entre 01 et 12)';
            return false;
        }
        
        if (!inputs.year.value.match(/^\d{4}$/) || year < 1900 || year > new Date().getFullYear()) {
            errors.date.textContent = 'Année invalide (doit être entre 1900 et ' + new Date().getFullYear() + ')';
            return false;
        }
        
        // Vérification de la date réelle
        if (!isValidDate(day, month, year)) {
            errors.date.textContent = 'Date de naissance invalide';
            return false;
        }
        
        errors.date.textContent = '';
        return true;
    }
    
    function isValidDate(day, month, year) {
        const date = new Date(year, month - 1, day);
        return date.getFullYear() === year && 
               date.getMonth() === month - 1 && 
               date.getDate() === day;
    }
    
    function validateBirthplace() {
        if (inputs.birthplace.value.trim().length < 2) {
            errors.birthplace.textContent = 'Le lieu de naissance doit contenir au moins 2 caractères';
            return false;
        } else {
            errors.birthplace.textContent = '';
            return true;
        }
    }
    
    function validateGender() {
        const isChecked = Array.from(inputs.gender).some(radio => radio.checked);
        if (!isChecked) {
            errors.gender.textContent = 'Veuillez sélectionner votre genre';
            return false;
        } else {
            errors.gender.textContent = '';
            return true;
        }
    }
    
    function validateAddress() {
        if (inputs.address.value.trim().length < 10) {
            errors.address.textContent = 'L\'adresse doit contenir au moins 10 caractères';
            return false;
        } else {
            errors.address.textContent = '';
            return true;
        }
    }
    
    function validatePhone() {
        if (!inputs.phone.value.match(/^[0-9]{8}$/)) {
            errors.phone.textContent = 'Le numéro de téléphone doit contenir exactement 10 chiffres';
            return false;
        } else {
            errors.phone.textContent = '';
            return true;
        }
    }
    
    function validateEmail() {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(inputs.email.value)) {
            errors.email.textContent = 'Veuillez entrer une adresse email valide';
            return false;
        } else {
            errors.email.textContent = '';
            return true;
        }
    }
    
    // Stocker les données du formulaire dans sessionStorage
    function storeFormData() {
        const formData = {
            fullname: inputs.fullname.value.trim(),
            day: inputs.day.value,
            month: inputs.month.value,
            year: inputs.year.value,
            birthplace: inputs.birthplace.value.trim(),
            gender: Array.from(inputs.gender).find(radio => radio.checked)?.value || '',
            address: inputs.address.value.trim(),
            phone: inputs.phone.value,
            email: inputs.email.value.trim()
        };
        
        sessionStorage.setItem('personalInfoFormData', JSON.stringify(formData));
    }
    
    // Charger les données si elles existent (pour le retour en arrière)
    function loadFormData() {
        const savedData = sessionStorage.getItem('personalInfoFormData');
        if (savedData) {
            const formData = JSON.parse(savedData);
            
            inputs.fullname.value = formData.fullname;
            inputs.day.value = formData.day;
            inputs.month.value = formData.month;
            inputs.year.value = formData.year;
            inputs.birthplace.value = formData.birthplace;
            if (formData.gender) {
                document.querySelector(`input[name="gender"][value="${formData.gender}"]`).checked = true;
            }
            inputs.address.value = formData.address;
            inputs.phone.value = formData.phone;
            inputs.email.value = formData.email;
        }
    }
    
    // Charger les données au démarrage
    loadFormData();
    
    // Validation automatique des champs numériques (jour, mois, année)
    inputs.day.addEventListener('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
    });
    
    inputs.month.addEventListener('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
    });
    
    inputs.year.addEventListener('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
    });
    
    // Validation automatique du téléphone
    inputs.phone.addEventListener('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
    });
});
        </script>

    
</body>
</html>